"use strict";function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}console.log("pieczareczki"),window.addEventListener("load",(function(){var e,t=JSON.parse(localStorage.getItem("tasks"))||[],n=document.getElementById("task-form"),r=document.getElementById("new-todo"),a=document.querySelector(".todo__tasks"),o=document.getElementById("todoTaskCount"),c=document.querySelector(".clearButton"),l=document.getElementById("all"),i=document.getElementById("active"),d=document.getElementById("completed"),s=document.querySelectorAll('.todo__filter input[type="radio"]'),u="todo__task",f="taskDescription",m=function(e){e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")};function y(){a.innerHTML="",t.map((function(n,r){var o="".concat(n.createdAt),c=document.createElement("li");c.classList.add(u,"flex"),c.draggable=!0,c.addEventListener("dragstart",(function(){e=n,c.classList.add("dragged")})),c.addEventListener("dragover",(function(e){e.preventDefault(),c.classList.add("hovered")})),c.addEventListener("dragleave",(function(){c.classList.remove("hovered")})),c.addEventListener("drop",(function(){var r=n,a=t.indexOf(r),o=t.indexOf(e);t[o]=r,t[a]=e,localStorage.setItem("tasks",JSON.stringify(t)),y()}));var l=document.createElement("input");l.type="checkbox",l.checked=n.done,l.classList.add("sr-only"),l.id=o,l.setAttribute("aria-checked",!1);var i=document.createElement("label");i.htmlFor=o,i.classList.add("customCheckbox");var d=document.createElement("textarea");d.classList.add(f),d.id=o,d.contentEditable=!0,d.rows=1,d.setAttribute("aria-label","Task ".concat(t.length+1," description")),d.textContent=n.content;var s=document.createElement("button");s.classList.add("deleteButton"),s.type="button",s.setAttribute("aria-label","Delete todo task"),i.appendChild(d),c.appendChild(l),c.appendChild(i),c.appendChild(s),a.appendChild(c),l.addEventListener("change",(function(e){e.preventDefault(),n.done=e.target.checked,localStorage.setItem("tasks",JSON.stringify(t)),g(),h()})),s.addEventListener("click",(function(e){t.splice(r,1),localStorage.setItem("tasks",JSON.stringify(t)),h(),y()})),d.addEventListener("input",(function(e){n.content=e.target.value,localStorage.setItem("tasks",JSON.stringify(t))})),m(d),h()}))}n.addEventListener("submit",(function(e){e.preventDefault();var n={content:e.target.elements.content.value,done:!1,createdAt:(new Date).getTime()};t.push(n),localStorage.setItem("tasks",JSON.stringify(t)),e.target.reset(),m(r),y()}));function h(){var e=t.filter((function(e){return!e.done})).length,n=1===e?"item":"items";o.innerText="".concat(e," ").concat(n," left")}function g(){var e=a.children;if(l.checked){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){t.value.style.display="block"}}catch(e){n.e(e)}finally{n.f()}}else if(i.checked){var r,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var c=r.value;c.querySelector(".sr-only").checked?c.style.display="none":c.style.display="block"}}catch(e){o.e(e)}finally{o.f()}}else if(d.checked){var s,u=_createForOfIteratorHelper(e);try{for(u.s();!(s=u.n()).done;){var f=s.value;f.querySelector(".sr-only").checked?f.style.display="block":f.style.display="none"}}catch(e){u.e(e)}finally{u.f()}}}n.addEventListener("input",(function(){return m(r)})),a.addEventListener("input",(function(e){return m(e.target.closest(".".concat(u)).querySelector(".".concat(f)))})),r.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),n.dispatchEvent(new Event("submit")))})),c.addEventListener("click",(function(){t=t.filter((function(e){return!e.done})),localStorage.setItem("tasks",JSON.stringify(t)),h(),y()}));var v,p=_createForOfIteratorHelper(s);try{for(p.s();!(v=p.n()).done;){v.value.addEventListener("change",g)}}catch(e){p.e(e)}finally{p.f()}y()}));var toggleButton=document.querySelector("#themeButton"),currentTheme=localStorage.getItem("theme")||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.setAttribute("data-theme",currentTheme),toggleButton.checked="dark"===currentTheme;var handleToggleTheme=function(){currentTheme="light"===currentTheme?"dark":"light",document.documentElement.setAttribute("data-theme",currentTheme),localStorage.setItem("theme",currentTheme)};toggleButton.addEventListener("click",handleToggleTheme);
//# sourceMappingURL=script.js.map